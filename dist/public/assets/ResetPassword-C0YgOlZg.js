import{u as p,r as a,t as S,a as i,j as e,C as m,b as u,i as y,d,e as n,g,B as l,L as h,c as j,f as L,h as N,I as v}from"./index-C8m1bZGW.js";import{K as R}from"./key-round-B3pJNC_J.js";function H(){const[,C]=p(),[o,f]=a.useState(""),[s,D]=a.useState(""),[t,x]=a.useState(""),[P,T]=a.useState(!1);a.useEffect(()=>{const b=new URLSearchParams(window.location.search).get("token");b&&x(b)},[]);const c=S.auth.resetPassword.useMutation({onSuccess:()=>{T(!0),i.success("Senha redefinida! Sua senha foi alterada com sucesso. Você já pode fazer login."),setTimeout(()=>{C("/login")},3e3)},onError:r=>{i.error(`Erro ao redefinir senha: ${r.message}`)}}),w=r=>{if(r.preventDefault(),!t){i.error("O link de redefinição de senha está incompleto ou inválido.");return}if(o.length<6){i.error("A senha deve ter no mínimo 6 caracteres.");return}if(o!==s){i.error("As senhas digitadas não são iguais.");return}c.mutate({token:t,newPassword:o})};return t?P?e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-accent/5 p-4",children:e.jsxDEV(m,{className:"w-full max-w-md",children:[e.jsxDEV(u,{className:"text-center",children:[e.jsxDEV("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-100 dark:bg-green-900",children:e.jsxDEV(j,{className:"h-8 w-8 text-green-600 dark:text-green-400"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:90,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:89,columnNumber:13},this),e.jsxDEV(d,{className:"text-2xl",children:"Senha Redefinida!"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:92,columnNumber:13},this),e.jsxDEV(n,{children:"Sua senha foi alterada com sucesso. Redirecionando para o login..."},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:93,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:88,columnNumber:11},this),e.jsxDEV(g,{children:e.jsxDEV(l,{className:"w-full",asChild:!0,children:e.jsxDEV(h,{href:"/login",children:"Ir para o login"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:99,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:98,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:97,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:87,columnNumber:9},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:86,columnNumber:7},this):e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-accent/5 p-4",children:e.jsxDEV(m,{className:"w-full max-w-md",children:[e.jsxDEV(u,{className:"text-center",children:[e.jsxDEV("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary/10",children:e.jsxDEV(R,{className:"h-8 w-8 text-primary"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:112,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:111,columnNumber:11},this),e.jsxDEV(d,{className:"text-2xl",children:"Redefinir Senha"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:114,columnNumber:11},this),e.jsxDEV(n,{children:"Digite sua nova senha abaixo."},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:115,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:110,columnNumber:9},this),e.jsxDEV("form",{onSubmit:w,children:[e.jsxDEV(L,{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(N,{htmlFor:"newPassword",children:"Nova Senha"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:122,columnNumber:15},this),e.jsxDEV(v,{id:"newPassword",type:"password",placeholder:"Mínimo 6 caracteres",value:o,onChange:r=>f(r.target.value),required:!0,autoFocus:!0,minLength:6},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:123,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:121,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(N,{htmlFor:"confirmPassword",children:"Confirmar Senha"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:135,columnNumber:15},this),e.jsxDEV(v,{id:"confirmPassword",type:"password",placeholder:"Digite a senha novamente",value:s,onChange:r=>D(r.target.value),required:!0,minLength:6},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:136,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:134,columnNumber:13},this),o&&s&&o!==s&&e.jsxDEV("p",{className:"text-sm text-destructive",children:"As senhas não conferem"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:147,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:120,columnNumber:11},this),e.jsxDEV(g,{className:"flex flex-col gap-4",children:[e.jsxDEV(l,{type:"submit",className:"w-full",disabled:c.isPending||o!==s,children:c.isPending?"Redefinindo...":"Redefinir senha"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:151,columnNumber:13},this),e.jsxDEV(l,{variant:"ghost",className:"w-full",asChild:!0,children:e.jsxDEV(h,{href:"/login",children:"Cancelar"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:159,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:158,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:150,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:119,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:109,columnNumber:7},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:108,columnNumber:5},this):e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-accent/5 p-4",children:e.jsxDEV(m,{className:"w-full max-w-md",children:[e.jsxDEV(u,{className:"text-center",children:[e.jsxDEV("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-destructive/10",children:e.jsxDEV(y,{className:"h-8 w-8 text-destructive"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:67,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:66,columnNumber:13},this),e.jsxDEV(d,{className:"text-2xl",children:"Link Inválido"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:69,columnNumber:13},this),e.jsxDEV(n,{children:"O link de redefinição de senha está incompleto ou inválido."},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:70,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:65,columnNumber:11},this),e.jsxDEV(g,{children:e.jsxDEV(l,{variant:"outline",className:"w-full",asChild:!0,children:e.jsxDEV(h,{href:"/forgot-password",children:"Solicitar novo link"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:76,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:75,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:74,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:64,columnNumber:9},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/ResetPassword.tsx",lineNumber:63,columnNumber:7},this)}export{H as default};
