import{aF as T,u as y,t as C,r as l,a as N,j as e,C as m,b as u,d as n,e as g,f as d,B as v,l as p,c as L}from"./index-C8m1bZGW.js";import{C as D}from"./circle-x-CQZediLd.js";import{M as j}from"./mail-xqPuFax1.js";const E=()=>{const b=window.location.origin;return`undefined?redirect_uri=${encodeURIComponent(b+"/api/oauth/callback")}`};function A(){const[,b]=T("/accept-invite"),[,a]=y(),{data:s,isLoading:c}=C.auth.me.useQuery(),[r,t]=l.useState("loading"),[f,o]=l.useState(""),i=new URLSearchParams(window.location.search).get("token"),x=C.adminInvites.accept.useMutation({onSuccess:()=>{t("success"),o("Convite aceito com sucesso! Você agora é um administrador."),N.success("Bem-vindo como administrador!"),setTimeout(()=>{a("/dashboard")},2e3)},onError:h=>{t("error"),o(h.message),N.error("Erro ao aceitar convite: "+h.message)}});return l.useEffect(()=>{if(!i){t("error"),o("Token de convite inválido");return}if(!c){if(!s){o("Você precisa fazer login para aceitar o convite");return}x.mutate({token:i})}},[i,s,c]),i?c?e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted",children:e.jsxDEV(p,{className:"h-8 w-8 animate-spin text-primary"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:89,columnNumber:9},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:88,columnNumber:7},this):s?e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:e.jsxDEV(m,{className:"w-full max-w-md",children:[e.jsxDEV(u,{children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[r==="loading"&&e.jsxDEV(p,{className:"h-6 w-6 animate-spin text-primary"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:125,columnNumber:38},this),r==="success"&&e.jsxDEV(L,{className:"h-6 w-6 text-green-500"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:126,columnNumber:38},this),r==="error"&&e.jsxDEV(D,{className:"h-6 w-6 text-destructive"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:127,columnNumber:36},this),e.jsxDEV(n,{children:[r==="loading"&&"Processando Convite...",r==="success"&&"Convite Aceito!",r==="error"&&"Erro ao Aceitar Convite"]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:128,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:124,columnNumber:11},this),e.jsxDEV(g,{children:f},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:134,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:123,columnNumber:9},this),r==="error"&&e.jsxDEV(d,{children:e.jsxDEV(v,{onClick:()=>a("/"),className:"w-full",children:"Voltar para Home"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:138,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:137,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:122,columnNumber:7},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:121,columnNumber:5},this):e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:e.jsxDEV(m,{className:"w-full max-w-md",children:[e.jsxDEV(u,{children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(j,{className:"h-6 w-6 text-primary"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:100,columnNumber:15},this),e.jsxDEV(n,{children:"Convite de Administrador"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:101,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:99,columnNumber:13},this),e.jsxDEV(g,{children:"Você foi convidado para ser administrador da plataforma"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:103,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:98,columnNumber:11},this),e.jsxDEV(d,{className:"space-y-4",children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Para aceitar o convite, você precisa fazer login primeiro."},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:108,columnNumber:13},this),e.jsxDEV(v,{onClick:()=>window.location.href=E(),className:"w-full",children:"Fazer Login"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:111,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:107,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:97,columnNumber:9},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:96,columnNumber:7},this):e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:e.jsxDEV(m,{className:"w-full max-w-md",children:[e.jsxDEV(u,{children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(D,{className:"h-6 w-6 text-destructive"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:69,columnNumber:15},this),e.jsxDEV(n,{children:"Convite Inválido"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:70,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:68,columnNumber:13},this),e.jsxDEV(g,{children:"O link de convite é inválido ou expirou"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:72,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:67,columnNumber:11},this),e.jsxDEV(d,{children:e.jsxDEV(v,{onClick:()=>a("/"),className:"w-full",children:"Voltar para Home"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:77,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:76,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:66,columnNumber:9},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AcceptInvite.tsx",lineNumber:65,columnNumber:7},this)}export{A as default};
