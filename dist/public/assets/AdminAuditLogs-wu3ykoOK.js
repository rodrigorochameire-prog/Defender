import{t,j as e,C as b,b as h,d as N,e as v,f as C,i as D}from"./index-C8m1bZGW.js";import{A as x}from"./AdminLayout-CN_HZodQ.js";import{F as u,B as f}from"./popover-BpxRwVL7.js";import{T as A,a as T,b as c,c as i,d as L,e as a}from"./table-DD56Q5SO.js";import{S as p}from"./scroll-area-ByH8-GEw.js";import{T as y}from"./trash-2-D0kpnSc2.js";import{U}from"./user-minus-DFOX1HM9.js";import{U as H}from"./user-plus-emZl0Rpw.js";import{U as M}from"./user-BUKu2__7.js";import{f as P,p as S}from"./pt-BR-BIS3WgEC.js";import"./layout-dashboard-B8Dm6c-N.js";import"./wallet-B9l0Ma52.js";import"./users-Dl_Hb3kU.js";import"./index-BdQq_4o_.js";const j={promote_admin:{label:"Promover Admin",icon:H,color:"text-green-600"},demote_admin:{label:"Remover Admin",icon:U,color:"text-orange-600"},delete_user:{label:"Deletar Usuário",icon:y,color:"text-red-600"}};function q(){const{data:s,isLoading:d}=t.adminLogs.list.useQuery({limit:100}),{data:g}=t.userManagement.list.useQuery(),n=r=>g?.find(m=>m.id===r)?.name||`Usuário #${r}`;return e.jsxDEV(x,{children:e.jsxDEV("div",{className:"container max-w-7xl py-8 space-y-6 animate-fade-in",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Logs de Auditoria"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:43,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground mt-2",children:"Auditoria de ações críticas realizadas por administradores"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:44,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:42,columnNumber:9},this),e.jsxDEV(b,{children:[e.jsxDEV(h,{children:[e.jsxDEV(N,{className:"flex items-center gap-2",children:[e.jsxDEV(u,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:53,columnNumber:15},this),"Histórico de Ações Administrativas"]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:52,columnNumber:13},this),e.jsxDEV(v,{children:[s?.length||0," ações registradas"]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:56,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:51,columnNumber:11},this),e.jsxDEV(C,{children:d?e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando logs..."},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:62,columnNumber:15},this):!s||s.length===0?e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV(D,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:67,columnNumber:17},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"Nenhum log registrado ainda"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:68,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:66,columnNumber:15},this):e.jsxDEV(p,{className:"h-[600px]",children:e.jsxDEV(A,{children:[e.jsxDEV(T,{children:e.jsxDEV(c,{children:[e.jsxDEV(i,{children:"Data/Hora"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:75,columnNumber:23},this),e.jsxDEV(i,{children:"Administrador"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:76,columnNumber:23},this),e.jsxDEV(i,{children:"Ação"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:77,columnNumber:23},this),e.jsxDEV(i,{children:"Alvo"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:78,columnNumber:23},this),e.jsxDEV(i,{children:"Detalhes"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:79,columnNumber:23},this),e.jsxDEV(i,{children:"IP"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:80,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:74,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:73,columnNumber:19},this),e.jsxDEV(L,{children:s.map(r=>{const l=j[r.action]||{label:r.action,icon:u,color:"text-gray-600"},m=l.icon;let o=null;try{o=r.details?JSON.parse(r.details):null}catch{o=null}return e.jsxDEV(c,{children:[e.jsxDEV(a,{className:"font-mono text-xs",children:P(new Date(r.createdAt),"dd/MM/yyyy HH:mm:ss",{locale:S})},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:101,columnNumber:27},this),e.jsxDEV(a,{children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(M,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:108,columnNumber:31},this),e.jsxDEV("span",{className:"font-medium",children:n(r.adminId)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:109,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:107,columnNumber:29},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:106,columnNumber:27},this),e.jsxDEV(a,{children:e.jsxDEV(f,{variant:"outline",className:l.color,children:[e.jsxDEV(m,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:116,columnNumber:31},this),l.label]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:115,columnNumber:29},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:114,columnNumber:27},this),e.jsxDEV(a,{children:r.targetType&&r.targetId&&e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[r.targetType," #",r.targetId]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:122,columnNumber:31},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:120,columnNumber:27},this),e.jsxDEV(a,{children:o&&e.jsxDEV("div",{className:"text-xs text-muted-foreground max-w-xs truncate",children:[o.email&&`Email: ${o.email}`,o.newRole&&`Novo papel: ${o.newRole}`]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:129,columnNumber:31},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:127,columnNumber:27},this),e.jsxDEV(a,{className:"font-mono text-xs text-muted-foreground",children:r.ipAddress||"-"},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:135,columnNumber:27},this)]},r.id,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:100,columnNumber:25},this)})},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:83,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:72,columnNumber:17},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:71,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:60,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:50,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:40,columnNumber:7},this)},void 0,!1,{fileName:"/Users/rodrigorochameire/Library/CloudStorage/GoogleDrive-rodrigorochameire@gmail.com/Meu Drive/Pessoal/Tuco Care/TeteCareHub/client/src/pages/AdminAuditLogs.tsx",lineNumber:39,columnNumber:5},this)}export{q as default};
