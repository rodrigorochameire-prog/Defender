@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   DEFENDER - DESIGN SYSTEM v8.0 MANUS
   Swiss Design • Institucional • Inteligente
   Visual limpo, profissional, funcional
   Aprimoramentos: Tipografia precisa, espaçamentos perfeitos,
   paleta robusta verde/preta/cinza/branca
   CACHE BUST: 2026-01-21-MANUS
   ======================================== */

@layer base {
  :root {
    /* BASE: Fundo off-white premium - Não cansa a vista */
    font-size: 16px;
    
    --background: 0 0% 98%; /* Off-white mais definido (#FAFAFA) */
    --foreground: 240 10% 10%; /* Preto mais preciso e robusto */

    /* PRIMÁRIA: Verde Esmeralda Profissional - Mais robusto */
    --primary: 162 52% 30%; /* Verde mais saturado e maduro */
    --primary-foreground: 0 0% 100%;

    /* CARDS & SURFACES - Elevação sutil estilo Linear */
    --card: 0 0% 100%; /* Branco puro apenas para cards */
    --card-foreground: 240 8% 12%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 8% 12%;

    /* SECONDARY & NEUTROS - Escala precisa */
    --secondary: 240 5% 97%;
    --secondary-foreground: 240 6% 14%;

    --muted: 240 5% 97%; /* Cinza quase branco */
    --muted-foreground: 240 4% 48%; /* Cinza médio */

    --accent: 240 5% 97%;
    --accent-foreground: 240 8% 12%;

    /* SEMANTIC - Cores desaturadas e profissionais */
    --success: 162 48% 38%; /* Verde desaturado */
    --success-foreground: 0 0% 100%;
    --destructive: 0 55% 50%; /* Vermelho desaturado */
    --destructive-foreground: 0 0% 100%;
    --warning: 38 85% 52%; /* Laranja desaturado */
    --warning-foreground: 38 95% 12%;
    --info: 210 80% 50%; /* Azul desaturado */
    --info-foreground: 0 0% 100%;

    /* BORDAS & INPUTS - Mais definidas e precisas */
    --border: 240 8% 90%; /* Bordas sutis mas visíveis */
    --input: 240 8% 90%;
    --ring: 162 52% 30%;

    --radius: 0.5rem; /* 8px - Raio preciso e consistente */

    /* SIDEBAR - Integrada com contraste sutil */
    --sidebar-background: 0 0% 97%; /* Levemente diferenciada */
    --sidebar-foreground: 240 10% 10%;
    --sidebar-primary: 162 52% 30%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 5% 96%; /* Hover sutil */
    --sidebar-accent-foreground: 240 8% 12%;
    --sidebar-border: 240 6% 94%; /* Borda quase invisível */
    --sidebar-ring: 162 48% 32%;
  }

  .dark {
    /* Modo Escuro Premium - Tom Verde-Esmeralda */
    /* Inspirado em aplicativos profissionais premium */
    --background: 240 10% 8%; /* Preto suave elegante */
    --foreground: 240 5% 98%; /* Branco quase puro */
    
    /* CARDS & SURFACES - Elevação sofisticada */
    --card: 240 8% 11%; /* Card elevado */
    --card-foreground: 240 5% 98%;
    --popover: 240 8% 13%;
    --popover-foreground: 240 5% 98%;
    
    /* PRIMÁRIA: Verde-esmeralda vibrante para modo escuro */
    --primary: 162 60% 48%; /* Verde mais luminoso e sofisticado */
    --primary-foreground: 240 10% 8%;
    
    /* SECONDARY & NEUTROS - Escala refinada */
    --secondary: 240 6% 15%;
    --secondary-foreground: 240 5% 96%;
    
    --muted: 240 6% 15%;
    --muted-foreground: 240 5% 64%; /* Cinza médio com bom contraste */
    
    --accent: 162 55% 20%; /* Toque do verde primário */
    --accent-foreground: 162 60% 88%;
    
    /* SEMANTIC - Cores vibrantes para modo escuro */
    --success: 162 65% 50%;
    --success-foreground: 240 10% 8%;
    --destructive: 0 72% 58%;
    --destructive-foreground: 0 0% 100%;
    --warning: 38 95% 55%;
    --warning-foreground: 38 100% 10%;
    --info: 205 95% 55%;
    --info-foreground: 240 10% 8%;
    
    /* BORDAS & INPUTS - Sutis mas visíveis */
    --border: 240 6% 20%;
    --input: 240 6% 18%;
    --ring: 162 60% 48%;
    
    /* SIDEBAR - Tom escuro premium */
    --sidebar-background: 240 10% 6%;
    --sidebar-foreground: 240 5% 90%;
    --sidebar-primary: 162 60% 48%;
    --sidebar-primary-foreground: 240 10% 6%;
    --sidebar-accent: 240 6% 12%;
    --sidebar-accent-foreground: 162 60% 48%;
    --sidebar-border: 240 6% 15%;
    --sidebar-ring: 162 60% 48%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    /* BASE: 16px = 1rem (padrão dos browsers) */
    font-size: 16px;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    transition: font-size 0.25s ease-out;
  }

  /* MODO AMPLIADO: Aumenta base em 12.5% (tudo escala proporcionalmente) */
  html.font-large {
    font-size: 18px; /* 1rem = 18px neste modo */
  }

  body {
    @apply bg-background text-foreground font-sans;
    font-feature-settings: "rlig" 1, "calt" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    letter-spacing: -0.008em;
    line-height: 1.7;
  }

  /* ==========================================
     HIERARQUIA TIPOGRÁFICA APRIMORADA
     Sistema ampliado, mais legível e com destaque
     ========================================== */
  
  /* H1 - Títulos de Página (DESTAQUE MÁXIMO) */
  h1 { 
    @apply text-3xl md:text-4xl lg:text-5xl font-bold tracking-tight text-foreground mb-4;
    letter-spacing: -0.032em;
    line-height: 1.1;
    font-weight: 700;
  }
  
  /* H2 - Seções Principais (DESTAQUE FORTE) */
  h2 { 
    @apply text-2xl md:text-3xl lg:text-4xl font-bold tracking-tight text-foreground mb-3;
    letter-spacing: -0.028em;
    line-height: 1.15;
    font-weight: 700;
  }
  
  /* H3 - Subseções (DESTAQUE MÉDIO) */
  h3 { 
    @apply text-xl md:text-2xl lg:text-3xl font-semibold text-foreground mb-3;
    letter-spacing: -0.024em;
    line-height: 1.2;
    font-weight: 600;
  }
  
  /* H4 - Títulos de Cards (DESTAQUE LEVE) */
  h4 { 
    @apply text-lg md:text-xl font-semibold text-foreground mb-2;
    letter-spacing: -0.02em;
    line-height: 1.25;
    font-weight: 600;
  }
  
  /* H5 - Sub-títulos */
  h5 { 
    @apply text-base md:text-lg font-medium text-foreground mb-2;
    letter-spacing: -0.01em;
    line-height: 1.3;
    font-weight: 500;
  }
  
  /* H6 - Labels de seção */
  h6 { 
    @apply text-sm md:text-base font-medium text-muted-foreground mb-2;
    letter-spacing: 0em;
    line-height: 1.4;
    font-weight: 500;
  }
  
  /* Parágrafo - Texto corpo */
  p { 
    @apply text-base leading-relaxed text-foreground;
    line-height: 1.65;
    letter-spacing: -0.005em;
  }

  /* Label - Formulários e descrições */
  label { 
    @apply text-sm font-medium text-muted-foreground;
    letter-spacing: 0em;
  }

  /* Small - Texto auxiliar */
  small { 
    @apply text-xs text-muted-foreground;
    letter-spacing: 0em;
  }

  /* Ajustes para modo fonte grande */
  html.font-large h1 {
    @apply text-4xl md:text-5xl lg:text-6xl;
  }
  html.font-large h2 {
    @apply text-3xl md:text-4xl lg:text-5xl;
  }
  html.font-large h3 {
    @apply text-2xl md:text-3xl lg:text-4xl;
  }
  html.font-large h4 {
    @apply text-xl md:text-2xl lg:text-3xl;
  }
  html.font-large h5 {
    @apply text-lg md:text-xl lg:text-2xl;
  }
  html.font-large h6 {
    @apply text-base md:text-lg lg:text-xl;
  }
  html.font-large p {
    @apply text-lg md:text-xl;
  }
  html.font-large label {
    @apply text-base md:text-lg;
  }
}

/* ==========================================
   COMPONENTES ESTRUTURAIS
   Para hierarquia e organização - ELEGANTE
   ========================================== */
@layer components {
  /* PAGE HEADER - Com fundo para destaque */
  .page-header {
    @apply pb-6 mb-6 border-b-2 border-border/70;
    @apply bg-gradient-to-r from-muted/30 to-transparent;
    @apply -mx-6 px-6 pt-6 rounded-t-xl;
  }
  .page-title {
    @apply text-3xl md:text-4xl font-bold text-foreground tracking-tight;
    letter-spacing: -0.032em;
    line-height: 1.1;
  }
  .page-description {
    @apply text-base text-muted-foreground mt-3 max-w-3xl;
    line-height: 1.65;
  }

  /* SECTION - Com fundo para organização */
  .section {
    @apply mb-8;
  }
  .section-header {
    @apply flex items-center justify-between mb-5 pb-4 border-b-2 border-border/50;
    @apply bg-muted/20 -mx-4 px-4 py-4 rounded-t-lg;
  }
  .section-title {
    @apply text-xl md:text-2xl font-bold text-foreground flex items-center gap-3;
    letter-spacing: -0.024em;
  }
  .section-subtitle {
    @apply text-xs uppercase tracking-wider text-muted-foreground font-semibold;
  }

  /* CARDS - With refined elevation */
  .card-elevated {
    @apply rounded-xl border border-border/60 bg-card text-card-foreground transition-all duration-200;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  }
  .card-elevated:hover {
    @apply border-border;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
  }

  .card-raised {
    @apply rounded-xl border border-border/50 bg-card text-card-foreground;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
  }

  .card-inset {
    @apply rounded-lg bg-muted/30 border border-border/30 p-6;
  }

  /* PANELS - For grouping related content */
  .panel {
    @apply rounded-xl border border-border/60 bg-card p-6;
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.04);
  }
  .panel-header {
    @apply flex items-center justify-between pb-4 mb-6 border-b border-border/50;
  }
  .panel-title {
    @apply text-lg md:text-xl font-semibold text-foreground;
    letter-spacing: -0.02em;
  }
  .panel-content {
    @apply space-y-5;
  }

  /* DATA DISPLAY */
  .data-row {
    @apply flex items-center justify-between py-3 border-b border-border/30 last:border-0;
  }
  .data-label {
    @apply text-sm text-muted-foreground;
  }
  .data-value {
    @apply text-sm font-medium text-foreground;
  }

  /* STAT CARDS - Equilibrado e preciso */
  .stat-card {
    @apply rounded-xl border border-border/60 bg-card p-6;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  }
  .stat-value {
    @apply text-4xl md:text-5xl font-bold text-foreground tracking-tight;
    letter-spacing: -0.03em;
    line-height: 1;
  }
  .stat-label {
    @apply text-sm text-muted-foreground mt-2;
    letter-spacing: 0em;
  }

  /* ==========================================
     BADGES APRIMORADOS - Maiores e mais legíveis
     Apenas cores FUNCIONAIS
     ========================================== */
  
  /* Badge base - Tamanho otimizado e preciso */
  .badge {
    @apply inline-flex items-center gap-2 rounded-lg px-3 py-1.5;
    @apply text-sm font-semibold;
    @apply transition-all duration-200;
    letter-spacing: -0.01em;
  }
  
  /* Badge Status - Vermelho (Urgente/Preso) - Mais robusto */
  .badge-danger {
    @apply bg-red-50 text-red-800 border border-red-300 
           dark:bg-red-950/60 dark:text-red-300 dark:border-red-800;
  }
  
  /* Badge Status - Laranja (Ação) - Mais robusto */
  .badge-warning {
    @apply bg-orange-50 text-orange-800 border border-orange-300
           dark:bg-orange-950/60 dark:text-orange-300 dark:border-orange-800;
  }
  
  /* Badge Status - Verde (Concluído) - Mais robusto */
  .badge-success {
    @apply bg-emerald-50 text-emerald-800 border border-emerald-300
           dark:bg-emerald-950/60 dark:text-emerald-300 dark:border-emerald-800;
  }
  
  /* Badge Status - Azul (Informação) - Mais robusto */
  .badge-info {
    @apply bg-blue-50 text-blue-800 border border-blue-300
           dark:bg-blue-950/60 dark:text-blue-300 dark:border-blue-800;
  }
  
  /* Badge Status - Cinza (Neutro) - Mais robusto */
  .badge-neutral {
    @apply bg-zinc-100 text-zinc-800 border border-zinc-300
           dark:bg-zinc-800 dark:text-zinc-300 dark:border-zinc-700;
  }

  /* EMPTY STATE */
  .empty-state {
    @apply flex flex-col items-center justify-center py-12 px-6 text-center;
  }
  .empty-state-icon {
    @apply w-12 h-12 text-muted-foreground/50 mb-4;
  }
  .empty-state-title {
    @apply text-base font-medium text-foreground mb-1;
  }
  .empty-state-description {
    @apply text-sm text-muted-foreground max-w-sm;
  }

  /* INTERACTIVE STATES */
  .interactive {
    @apply cursor-pointer transition-all duration-200;
    @apply hover:bg-muted/50 active:bg-muted;
  }
  .interactive-card {
    @apply cursor-pointer transition-all duration-200;
    @apply hover:shadow-md hover:border-primary/30;
  }

  /* LOADING STATES */
  .skeleton {
    @apply animate-pulse bg-muted rounded;
  }
  .skeleton-text {
    @apply h-4 w-full bg-muted rounded animate-pulse;
  }
  .skeleton-avatar {
    @apply w-10 h-10 bg-muted rounded-full animate-pulse;
  }

  /* ==========================================
     UTILITY CLASSES
     ========================================== */
  
  /* Textos de sidebar */
  .text-sidebar-item {
    @apply text-sm font-medium transition-colors duration-200;
  }
  
  .text-sidebar-section {
    @apply text-xs font-semibold uppercase tracking-wider text-muted-foreground/80;
  }

  /* Badge texto */
  .text-badge {
    @apply text-xs font-semibold uppercase tracking-wide;
  }

  /* Micro texto */
  .text-ui-micro {
    @apply text-xs text-muted-foreground/80;
  }

  /* Modo fonte grande - utilidades */
  html.font-large .text-sidebar-item {
    @apply text-base;
  }
  html.font-large .text-sidebar-section {
    @apply text-sm;
  }
  html.font-large .text-badge {
    @apply text-sm;
  }
  html.font-large .text-ui-micro {
    @apply text-sm;
  }

  /* ==========================================
     MELHORIAS DE TABELAS - SWISS DESIGN
     Visualização otimizada para ambos os modos
     ========================================== */
  
  /* Container de tabela com scroll suave */
  .table-container {
    @apply relative rounded-xl border border-border/60 bg-card overflow-hidden;
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.04), 0 1px 2px -1px rgb(0 0 0 / 0.04);
  }
  
  .dark .table-container {
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.2), 0 1px 2px -1px rgb(0 0 0 / 0.2);
  }

  /* Header de tabela - melhor contraste */
  .table-header-enhanced {
    @apply bg-muted/80 dark:bg-muted/60 backdrop-blur-sm;
    @apply border-b-2 border-border/70 dark:border-border;
  }

  /* Células com melhor espaçamento */
  .table-cell-enhanced {
    @apply py-4 px-4 first:pl-6 last:pr-6;
    @apply align-middle;
  }

  /* Linhas com hover melhorado */
  .table-row-enhanced {
    @apply transition-colors duration-150;
    @apply hover:bg-muted/50 dark:hover:bg-muted/30;
    @apply border-b border-border/30 last:border-0;
  }

  /* Badge de status melhorado para ambos os modos */
  .status-badge {
    @apply inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-xs font-semibold uppercase tracking-wider;
    @apply transition-all duration-200;
  }

  .status-badge-urgent {
    @apply bg-rose-100 text-rose-700 border border-rose-200;
    @apply dark:bg-rose-950/50 dark:text-rose-300 dark:border-rose-800/50;
  }

  .status-badge-warning {
    @apply bg-amber-100 text-amber-700 border border-amber-200;
    @apply dark:bg-amber-950/50 dark:text-amber-300 dark:border-amber-800/50;
  }

  .status-badge-success {
    @apply bg-emerald-100 text-emerald-700 border border-emerald-200;
    @apply dark:bg-emerald-950/50 dark:text-emerald-300 dark:border-emerald-800/50;
  }

  .status-badge-info {
    @apply bg-blue-100 text-blue-700 border border-blue-200;
    @apply dark:bg-blue-950/50 dark:text-blue-300 dark:border-blue-800/50;
  }

  .status-badge-neutral {
    @apply bg-zinc-100 text-zinc-700 border border-zinc-200;
    @apply dark:bg-zinc-800 dark:text-zinc-300 dark:border-zinc-700;
  }

  /* Indicador de réu preso - melhorado */
  .prisoner-indicator {
    @apply inline-flex items-center justify-center rounded-full;
    @apply transition-all duration-200;
  }

  .prisoner-indicator-active {
    @apply bg-rose-100 text-rose-600 border border-rose-200;
    @apply dark:bg-rose-950/50 dark:text-rose-400 dark:border-rose-800/50;
  }

  /* Tooltips melhorados */
  .tooltip-enhanced {
    @apply bg-zinc-900 text-zinc-100 dark:bg-zinc-100 dark:text-zinc-900;
    @apply px-3 py-1.5 rounded-lg text-xs font-medium;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .dark .tooltip-enhanced {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }

  /* Cards de estatísticas melhorados */
  .stat-card-enhanced {
    @apply rounded-xl border border-border/60 bg-card p-5;
    @apply transition-all duration-200 hover:shadow-md;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.03);
  }

  .dark .stat-card-enhanced {
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
  }

  .stat-card-enhanced:hover {
    @apply border-border;
  }

  /* Borda lateral semântica - réu preso */
  .border-semantic-prisoner {
    @apply border-l-[3px] border-l-rose-500 dark:border-l-rose-400;
  }

  /* Borda lateral semântica - livre */
  .border-semantic-free {
    @apply border-l-[3px] border-l-zinc-300 dark:border-l-zinc-600;
  }

  /* Texto mono para números de processo */
  .process-number {
    @apply font-mono text-sm tracking-tight;
    @apply text-zinc-600 dark:text-zinc-400;
    @apply hover:text-blue-600 dark:hover:text-blue-400;
    @apply transition-colors cursor-pointer;
  }

  /* Badges de área/atribuição melhorados */
  .area-badge {
    @apply inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-medium;
    @apply bg-zinc-200/80 text-zinc-700 border border-zinc-300/50;
    @apply dark:bg-zinc-700 dark:text-zinc-200 dark:border-zinc-600/50;
  }

  /* Scrollbar customizada para tabelas */
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-zinc-100 dark:bg-zinc-800 rounded-lg;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-zinc-300 dark:bg-zinc-600 rounded-lg;
    @apply hover:bg-zinc-400 dark:hover:bg-zinc-500;
  }

  /* Animação suave para expansão de linhas */
  @keyframes expand-row {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .row-expand-animation {
    animation: expand-row 0.2s ease-out;
  }

  /* ==========================================
     TABS E ABAS - Organizadas com fundo
     ========================================== */
  
  .tabs-container {
    @apply border-b-2 border-border/60 mb-6;
    @apply bg-muted/20 -mx-4 px-4 py-2 rounded-t-lg;
  }
  
  .tab-button {
    @apply relative px-4 py-2.5 text-sm md:text-base font-semibold;
    @apply transition-all duration-200;
    @apply text-muted-foreground hover:text-foreground;
    @apply border-b-2 border-transparent;
  }
  
  .tab-button-active {
    @apply text-primary border-b-primary bg-primary/5 rounded-t-md;
  }
  
  .tab-indicator {
    @apply absolute bottom-0 left-0 right-0 h-1 bg-primary rounded-full;
  }

  /* ==========================================
     FILTER SECTION - Com fundo para organização
     ========================================== */
  
  .filter-section {
    @apply bg-muted/20 border-2 border-border/40 rounded-xl p-4;
    @apply space-y-3;
  }
  
  .filter-section-label {
    @apply text-xs font-semibold text-muted-foreground uppercase tracking-wider;
    @apply mb-2;
  }
  
  .filter-chip {
    @apply inline-flex items-center gap-2 px-3 py-2;
    @apply text-sm font-medium rounded-lg;
    @apply transition-all duration-200;
    @apply border border-border/40 bg-background;
    @apply hover:border-primary/50 hover:bg-primary/5;
    @apply cursor-pointer;
  }
  
  .filter-chip-active {
    @apply border-primary bg-primary/10 text-primary;
    @apply font-semibold shadow-sm;
  }
  
  .filter-chip-count {
    @apply inline-flex items-center justify-center;
    @apply min-w-[20px] h-5 px-1.5 rounded-full;
    @apply text-xs font-bold;
    @apply bg-muted text-muted-foreground;
  }
  
  .filter-chip-active .filter-chip-count {
    @apply bg-primary/20 text-primary;
  }

  /* ==========================================
     STAT BLOCKS - Cards de estatísticas maiores
     ========================================== */
  
  .stat-block {
    @apply rounded-xl border-2 border-border/60 bg-card;
    @apply p-6 space-y-3;
    @apply transition-all duration-200;
    @apply hover:shadow-lg hover:border-border;
  }
  
  .stat-block-value {
    @apply text-4xl md:text-5xl lg:text-6xl font-bold;
    @apply tracking-tight;
    letter-spacing: -0.02em;
  }
  
  .stat-block-label {
    @apply text-sm md:text-base lg:text-lg;
    @apply text-muted-foreground font-medium;
  }
  
  .stat-block-icon {
    @apply w-12 h-12 md:w-14 md:h-14 rounded-xl;
    @apply flex items-center justify-center;
    @apply bg-primary/10 text-primary;
  }

  /* ==========================================
     SPACING OTIMIZADO - Apenas o necessário
     ========================================== */
  
  .page-spacing {
    @apply space-y-6 md:space-y-8;
  }
  
  .section-spacing {
    @apply space-y-5 md:space-y-6;
  }
  
  .card-spacing {
    @apply space-y-3 md:space-y-4;
  }
  
  .compact-spacing {
    @apply space-y-2 md:space-y-3;
  }

  /* ==========================================
     HEADINGS COM ÍCONE - Destaque visual
     ========================================== */
  
  .heading-with-icon {
    @apply flex items-center gap-4;
  }
  
  .heading-icon-wrapper {
    @apply flex-shrink-0 w-14 h-14 md:w-16 md:h-16 rounded-2xl;
    @apply bg-primary/10 flex items-center justify-center;
  }
  
  .heading-icon {
    @apply w-7 h-7 md:w-8 md:h-8 text-primary;
  }
}
