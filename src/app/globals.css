@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   INTELEX - DESIGN SYSTEM v7.0
   Swiss Design • Institucional • Inteligente
   Visual limpo, profissional, funcional
   CACHE BUST: 2026-01-21-INTELEX
   ======================================== */

@layer base {
  :root {
    /* BASE: Tamanho e Fundo Stone (Não branco puro) */
    font-size: 16px; /* Aumenta TUDO automaticamente */
    
    --background: 60 5% 96%; /* Stone-50 (Creme/cinza suave, não branco) */
    --foreground: 20 14% 4%; /* Stone-950 (Preto suave para texto) */

    /* PRIMÁRIA: Verde Institucional INTELEX */
    /* Usado apenas em botões principais e destaques ativos */
    --primary: 158 45% 30%; 
    --primary-foreground: 0 0% 100%;

    /* CARDS & SURFACES - Elevation System */
    --card: 0 0% 100%; /* Branco Puro para os Cards "saltarem" */
    --card-foreground: 20 14% 4%;
    --popover: 0 0% 100%;
    --popover-foreground: 20 14% 4%;

    /* SECONDARY & NEUTROS */
    --secondary: 60 4.8% 95.9%;
    --secondary-foreground: 24 9.8% 10%;

    --muted: 60 4.8% 95.9%;
    --muted-foreground: 25 5.3% 44.7%; /* Cinza médio para textos de apoio */

    --accent: 60 4.8% 95.9%;
    --accent-foreground: 24 9.8% 10%;

    /* SEMANTIC - Apenas cores funcionais */
    --success: 158 45% 35%;
    --success-foreground: 0 0% 100%;
    --destructive: 0 50% 50%;
    --destructive-foreground: 0 0% 100%;
    --warning: 38 65% 50%;
    --warning-foreground: 38 80% 15%;
    --info: 205 45% 50%;
    --info-foreground: 0 0% 100%;

    /* BORDAS & INPUTS - Suaves, nunca pretas */
    --border: 20 5.9% 90%;
    --input: 20 5.9% 90%;
    --ring: 158 45% 30%;

    --radius: 0.75rem; /* 12px - Moderno mas profissional */

    /* SIDEBAR - Limpa e Elegante */
    --sidebar-background: 0 0% 100%; /* Branco limpo */
    --sidebar-foreground: 20 14% 25%;
    --sidebar-primary: 158 45% 30%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 60 4.8% 96%;
    --sidebar-accent-foreground: 158 45% 30%;
    --sidebar-border: 20 5.9% 92%;
    --sidebar-ring: 158 45% 30%;
  }

  .dark {
    /* Modo Escuro Otimizado para Leitura (Não preto total) */
    /* MELHORADO: Mais contraste, cores mais harmônicas */
    --background: 222 47% 11%; /* Azul escuro profundo - mais elegante */
    --foreground: 210 40% 98%; /* Branco quase puro com toque azulado */
    
    /* CARDS & SURFACES - Melhor separação visual */
    --card: 222 47% 14%; /* Ligeiramente mais claro que background */
    --card-foreground: 210 40% 98%;
    --popover: 222 47% 16%;
    --popover-foreground: 210 40% 98%;
    
    /* PRIMÁRIA: Verde INTELEX mais vibrante no escuro */
    --primary: 158 50% 45%;
    --primary-foreground: 0 0% 100%;
    
    /* SECONDARY & NEUTROS - Melhor contraste */
    --secondary: 217 32% 17%;
    --secondary-foreground: 210 40% 98%;
    
    --muted: 217 32% 17%;
    --muted-foreground: 215 20% 65%; /* Melhor contraste para texto secundário */
    
    --accent: 217 32% 20%;
    --accent-foreground: 210 40% 98%;
    
    /* SEMANTIC - Cores funcionais melhoradas */
    --success: 158 50% 45%;
    --success-foreground: 0 0% 100%;
    --destructive: 0 62% 55%; /* Vermelho mais vibrante */
    --destructive-foreground: 0 0% 100%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;
    --info: 199 89% 48%;
    --info-foreground: 0 0% 100%;
    
    /* BORDAS & INPUTS - Melhor visibilidade */
    --border: 217 32% 23%; /* Bordas mais visíveis */
    --input: 217 32% 20%;
    --ring: 158 50% 45%;
    
    /* SIDEBAR - Mais harmônica */
    --sidebar-background: 222 47% 13%;
    --sidebar-foreground: 210 40% 88%;
    --sidebar-primary: 158 50% 45%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 217 32% 20%;
    --sidebar-accent-foreground: 210 40% 92%;
    --sidebar-border: 217 32% 24%;
    --sidebar-ring: 158 50% 45%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    /* BASE: 16px = 1rem (padrão dos browsers) */
    font-size: 16px;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    transition: font-size 0.25s ease-out;
  }

  /* MODO AMPLIADO: Aumenta base em 12.5% (tudo escala proporcionalmente) */
  html.font-large {
    font-size: 18px; /* 1rem = 18px neste modo */
  }

  body {
    @apply bg-background text-foreground font-sans;
    font-feature-settings: "rlig" 1, "calt" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    letter-spacing: -0.008em;
    line-height: 1.7;
  }

  /* ==========================================
     HIERARQUIA TIPOGRÁFICA - Design Suíço
     Fontes GRANDES, legíveis, respiradas
     ========================================== */
  h1 { 
    @apply text-2xl md:text-3xl lg:text-4xl font-semibold tracking-tight text-foreground mb-6;
    letter-spacing: -0.025em;
    line-height: 1.2;
  }
  
  h2 { 
    @apply text-xl md:text-2xl font-semibold tracking-tight text-foreground mb-4;
    letter-spacing: -0.02em;
    line-height: 1.25;
  }
  
  h3 { 
    @apply text-lg md:text-xl font-semibold text-foreground mb-3;
    letter-spacing: -0.015em;
    line-height: 1.3;
  }
  
  h4 { 
    @apply text-base md:text-lg font-medium text-foreground mb-2;
    line-height: 1.35;
  }
  
  p { 
    @apply text-sm md:text-base leading-relaxed text-foreground;
    line-height: 1.7;
  }

  label { 
    @apply text-sm font-medium text-muted-foreground;
  }

  /* Ajustes para modo fonte grande */
  html.font-large h1 {
    @apply text-3xl md:text-4xl lg:text-5xl;
  }
  html.font-large h2 {
    @apply text-2xl md:text-3xl;
  }
  html.font-large h3 {
    @apply text-xl md:text-2xl;
  }
  html.font-large h4 {
    @apply text-lg md:text-xl;
  }
  html.font-large p {
    @apply text-base md:text-lg;
  }
  html.font-large label {
    @apply text-base;
  }
}

/* ==========================================
   COMPONENTES ESTRUTURAIS
   Para hierarquia e organização - ELEGANTE
   ========================================== */
@layer components {
  /* PAGE HEADER - Sophisticated hierarchy */
  .page-header {
    @apply pb-6 mb-6 border-b border-border/60;
  }
  .page-title {
    @apply text-2xl md:text-3xl font-semibold text-foreground tracking-tight;
    letter-spacing: -0.025em;
  }
  .page-description {
    @apply text-sm md:text-base text-muted-foreground mt-2 max-w-2xl;
    line-height: 1.6;
  }

  /* SECTION - Content grouping */
  .section {
    @apply mb-10;
  }
  .section-header {
    @apply flex items-center justify-between mb-5 pb-3 border-b border-border/40;
  }
  .section-title {
    @apply text-lg md:text-xl font-semibold text-foreground flex items-center gap-2.5;
    letter-spacing: -0.01em;
  }
  .section-subtitle {
    @apply text-xs uppercase tracking-wider text-muted-foreground font-semibold;
  }

  /* CARDS - With refined elevation */
  .card-elevated {
    @apply rounded-xl border border-border/50 bg-card text-card-foreground transition-all duration-200;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.03);
  }
  .card-elevated:hover {
    @apply border-border;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
  }

  .card-raised {
    @apply rounded-xl border border-border/40 bg-card text-card-foreground;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
  }

  .card-inset {
    @apply rounded-lg bg-muted/30 border border-border/20 p-5;
  }

  /* PANELS - For grouping related content */
  .panel {
    @apply rounded-xl border border-border/50 bg-card p-6;
    box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.02);
  }
  .panel-header {
    @apply flex items-center justify-between pb-4 mb-5 border-b border-border/40;
  }
  .panel-title {
    @apply text-base md:text-lg font-semibold text-foreground;
    letter-spacing: -0.01em;
  }
  .panel-content {
    @apply space-y-4;
  }

  /* DATA DISPLAY */
  .data-row {
    @apply flex items-center justify-between py-3 border-b border-border/30 last:border-0;
  }
  .data-label {
    @apply text-sm text-muted-foreground;
  }
  .data-value {
    @apply text-sm font-medium text-foreground;
  }

  /* STAT CARDS */
  .stat-card {
    @apply rounded-xl border border-border/60 bg-card p-5;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.03);
  }
  .stat-value {
    @apply text-3xl font-bold text-foreground tracking-tight;
  }
  .stat-label {
    @apply text-sm text-muted-foreground mt-1;
  }

  /* ==========================================
     BADGES ELEGANTES - ESTILO OUTLINE
     Apenas cores FUNCIONAIS
     ========================================== */
  
  /* Badge Status - Vermelho (Urgente/Preso) */
  .badge-danger {
    @apply bg-red-50 text-red-700 border border-red-200 
           dark:bg-red-950/50 dark:text-red-300 dark:border-red-800;
  }
  
  /* Badge Status - Laranja (Ação) */
  .badge-warning {
    @apply bg-orange-50 text-orange-700 border border-orange-200
           dark:bg-orange-950/50 dark:text-orange-300 dark:border-orange-800;
  }
  
  /* Badge Status - Verde (Concluído) */
  .badge-success {
    @apply bg-emerald-50 text-emerald-700 border border-emerald-200
           dark:bg-emerald-950/50 dark:text-emerald-300 dark:border-emerald-800;
  }
  
  /* Badge Status - Azul (Informação) */
  .badge-info {
    @apply bg-blue-50 text-blue-700 border border-blue-200
           dark:bg-blue-950/50 dark:text-blue-300 dark:border-blue-800;
  }
  
  /* Badge Status - Cinza (Neutro) */
  .badge-neutral {
    @apply bg-stone-100 text-stone-600 border border-stone-200
           dark:bg-stone-800 dark:text-stone-400 dark:border-stone-700;
  }

  /* EMPTY STATE */
  .empty-state {
    @apply flex flex-col items-center justify-center py-12 px-6 text-center;
  }
  .empty-state-icon {
    @apply w-12 h-12 text-muted-foreground/50 mb-4;
  }
  .empty-state-title {
    @apply text-base font-medium text-foreground mb-1;
  }
  .empty-state-description {
    @apply text-sm text-muted-foreground max-w-sm;
  }

  /* INTERACTIVE STATES */
  .interactive {
    @apply cursor-pointer transition-all duration-200;
    @apply hover:bg-muted/50 active:bg-muted;
  }
  .interactive-card {
    @apply cursor-pointer transition-all duration-200;
    @apply hover:shadow-md hover:border-primary/30;
  }

  /* LOADING STATES */
  .skeleton {
    @apply animate-pulse bg-muted rounded;
  }
  .skeleton-text {
    @apply h-4 w-full bg-muted rounded animate-pulse;
  }
  .skeleton-avatar {
    @apply w-10 h-10 bg-muted rounded-full animate-pulse;
  }

  /* ==========================================
     UTILITY CLASSES
     ========================================== */
  
  /* Textos de sidebar */
  .text-sidebar-item {
    @apply text-sm font-medium transition-colors duration-200;
  }
  
  .text-sidebar-section {
    @apply text-xs font-semibold uppercase tracking-wider text-muted-foreground/80;
  }

  /* Badge texto */
  .text-badge {
    @apply text-xs font-semibold uppercase tracking-wide;
  }

  /* Micro texto */
  .text-ui-micro {
    @apply text-xs text-muted-foreground/80;
  }

  /* Modo fonte grande - utilidades */
  html.font-large .text-sidebar-item {
    @apply text-base;
  }
  html.font-large .text-sidebar-section {
    @apply text-sm;
  }
  html.font-large .text-badge {
    @apply text-sm;
  }
  html.font-large .text-ui-micro {
    @apply text-sm;
  }

  /* ==========================================
     MELHORIAS DE TABELAS - SWISS DESIGN
     Visualização otimizada para ambos os modos
     ========================================== */
  
  /* Container de tabela com scroll suave */
  .table-container {
    @apply relative rounded-xl border border-border/60 bg-card overflow-hidden;
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.04), 0 1px 2px -1px rgb(0 0 0 / 0.04);
  }
  
  .dark .table-container {
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.2), 0 1px 2px -1px rgb(0 0 0 / 0.2);
  }

  /* Header de tabela - melhor contraste */
  .table-header-enhanced {
    @apply bg-muted/80 dark:bg-muted/60 backdrop-blur-sm;
    @apply border-b-2 border-border/70 dark:border-border;
  }

  /* Células com melhor espaçamento */
  .table-cell-enhanced {
    @apply py-4 px-4 first:pl-6 last:pr-6;
    @apply align-middle;
  }

  /* Linhas com hover melhorado */
  .table-row-enhanced {
    @apply transition-colors duration-150;
    @apply hover:bg-muted/50 dark:hover:bg-muted/30;
    @apply border-b border-border/30 last:border-0;
  }

  /* Badge de status melhorado para ambos os modos */
  .status-badge {
    @apply inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-xs font-semibold uppercase tracking-wider;
    @apply transition-all duration-200;
  }

  .status-badge-urgent {
    @apply bg-rose-100 text-rose-700 border border-rose-200;
    @apply dark:bg-rose-950/50 dark:text-rose-300 dark:border-rose-800/50;
  }

  .status-badge-warning {
    @apply bg-amber-100 text-amber-700 border border-amber-200;
    @apply dark:bg-amber-950/50 dark:text-amber-300 dark:border-amber-800/50;
  }

  .status-badge-success {
    @apply bg-emerald-100 text-emerald-700 border border-emerald-200;
    @apply dark:bg-emerald-950/50 dark:text-emerald-300 dark:border-emerald-800/50;
  }

  .status-badge-info {
    @apply bg-blue-100 text-blue-700 border border-blue-200;
    @apply dark:bg-blue-950/50 dark:text-blue-300 dark:border-blue-800/50;
  }

  .status-badge-neutral {
    @apply bg-zinc-100 text-zinc-700 border border-zinc-200;
    @apply dark:bg-zinc-800 dark:text-zinc-300 dark:border-zinc-700;
  }

  /* Indicador de réu preso - melhorado */
  .prisoner-indicator {
    @apply inline-flex items-center justify-center rounded-full;
    @apply transition-all duration-200;
  }

  .prisoner-indicator-active {
    @apply bg-rose-100 text-rose-600 border border-rose-200;
    @apply dark:bg-rose-950/50 dark:text-rose-400 dark:border-rose-800/50;
  }

  /* Tooltips melhorados */
  .tooltip-enhanced {
    @apply bg-zinc-900 text-zinc-100 dark:bg-zinc-100 dark:text-zinc-900;
    @apply px-3 py-1.5 rounded-lg text-xs font-medium;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .dark .tooltip-enhanced {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }

  /* Cards de estatísticas melhorados */
  .stat-card-enhanced {
    @apply rounded-xl border border-border/60 bg-card p-5;
    @apply transition-all duration-200 hover:shadow-md;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.03);
  }

  .dark .stat-card-enhanced {
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
  }

  .stat-card-enhanced:hover {
    @apply border-border;
  }

  /* Borda lateral semântica - réu preso */
  .border-semantic-prisoner {
    @apply border-l-[3px] border-l-rose-500 dark:border-l-rose-400;
  }

  /* Borda lateral semântica - livre */
  .border-semantic-free {
    @apply border-l-[3px] border-l-zinc-300 dark:border-l-zinc-600;
  }

  /* Texto mono para números de processo */
  .process-number {
    @apply font-mono text-sm tracking-tight;
    @apply text-zinc-600 dark:text-zinc-400;
    @apply hover:text-blue-600 dark:hover:text-blue-400;
    @apply transition-colors cursor-pointer;
  }

  /* Badges de área/atribuição melhorados */
  .area-badge {
    @apply inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-medium;
    @apply bg-zinc-200/80 text-zinc-700 border border-zinc-300/50;
    @apply dark:bg-zinc-700 dark:text-zinc-200 dark:border-zinc-600/50;
  }

  /* Scrollbar customizada para tabelas */
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-zinc-100 dark:bg-zinc-800 rounded-lg;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-zinc-300 dark:bg-zinc-600 rounded-lg;
    @apply hover:bg-zinc-400 dark:hover:bg-zinc-500;
  }

  /* Animação suave para expansão de linhas */
  @keyframes expand-row {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .row-expand-animation {
    animation: expand-row 0.2s ease-out;
  }
}
